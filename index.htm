<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Is it raining now?</title>
    <meta name="robots" content="all" />
    <meta name="description" content="I work in an office with no windows and I have no idea what the weather is like now.  Tell me if it is raining outside, because I'm too lazy to go check.  Darn, did I remember my umbrella today?" />
    <meta name="keywords" content="weather, rain, raining, yes/no, simple, is it raining?, microsite, umbrella, is it raining now?, is it raining outside?, is it raining here?, weather radar, weather online, bbc weather, uk weather, weather in uk, whether, the wather, the weather chanel, weather condition, buy umbrella, rain umbrella, local weather, microsites, weather channel, weather eye, weather.com, weather forecast" />
    <meta name="google-site-verification" content="bg8jFefCWB2ij-CGpxt0zdtveyoe3VlK3OMFfxaHrJ0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/_i/raindrops.png" />
    <link rel="image_src" href="/_i/raindrops.png" />
    <link rel="canonical" href="https://www.isitrainingnow.com">

      <meta property="og:title" content="Is it raining now?"/>
      <meta property="og:image" content="https://www.isitrainingnow.com/_i/raindrops.png"/>
      <meta property="og:url" content="https://www.isitrainingnow.com/"/>
      <meta property="og:site_name" content="Is it raining now?"/>
      <meta property="og:description" content="I work in an office with no windows and I have no idea what the weather is like now.  Tell me if it is raining outside, because I'm too lazy to go check.  Darn, did I remember my umbrella today?"/>

    <meta itemprop="name" content="Is it raining now?" />
    <meta itemprop="description" content="I work in an office with no windows and I have no idea what the weather is like now.  Tell me if it is raining outside, because I'm too lazy to go check.  Darn, did I remember my umbrella today?" />
    <meta itemprop="image" content="https://www.isitrainingnow.com/_i/raindrops.png" />

    <link href="/_css/global.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="https://apis.google.com/js/plusone.js" async></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

    <!--
    <script src="https://code.google.com/apis/gears/gears_init.js" type="text/javascript" charset="utf-8"></script>
    -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-11185447-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-11185447-1');
    </script>

</head>

<body>


<div id="container">
	<div id="live-geolocation"></div>
    <div id="answer_wrap"><img src="_i/ajax-loader-new.gif" width="100" height="100" alt="Loading..."></div>
    <div id="userLocation"></div>
    <div id="showDetails"><a href="#">Details +</a></div>
    <div id="userLatLon"></div>
    <div id="location-form">
    	<form name="location" method="post">
    	<span class="field">
			<label for="zipcode">Zip Code/Postal Code:</label>
        	<input name="zipcode" id="zipcode" type="text">
		</span>
        <span>
	    	<input type="submit" value="Raining?" class="submit" />
    	</span>
		</form>
    </div>
	<div id="conditionDescription"></div>
    
    <div id="shareThis"> 
    	<div id="twitterButton">
           
            <a href="https://twitter.com/share" data-text="Is it raining now? #weather" class="twitter-share-button" data-lang="en" data-count="vertical">Tweet</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>

       	<div id="fbButton">
        	<iframe src="https://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.isitrainingnow.com%2F&amp;layout=box_count&amp;show_faces=false&amp;width=65&amp;action=like&amp;font=arial&amp;colorscheme=light&amp;height=65" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:65px; height:65px;" allowTransparency="true"></iframe>
        </div>
        
        <div id="gpButton">
			<g:plusone size="tall" href="https://www.isitrainingnow.com"></g:plusone>
        </div>
    </div>

    <div id="ads"> 
    	<script type="text/javascript"><!--
		google_ad_client = "ca-pub-0621539625535130";
		/* 728x90, created 10/26/09 */
		google_ad_slot = "0434156802";
		google_ad_width = 728;
		google_ad_height = 90;
		//-->

		</script>
        <!--
		<script type="text/javascript"
		src="https://pagead2.googlesyndication.com/pagead/show_ads.js" async>
		</script>
		-->
  </div>

  <div id="footer"> 
    	Data provided by <a href="http://www.worldweatheronline.com/" title="Free local weather content provider" target="_blank">World Weather Online</a>.
  </div>
</div>

<script>
    $( document ).ready(function() {
        var x = document.getElementById("userLatLon");

        function get_WeatherJSON(position) {//pass a variable into the function
            // Output returned data
            $("#userLatLon").html('Latitude: '+ position.coords.latitude+', Longitude: '+position.coords.longitude+', Accuracy: '+ position.coords.accuracy);

            var url = "https://api.wunderground.com/api/260109016da23b22/conditions/q/" + position.coords.latitude + "," + position.coords.longitude + ".json";
            //var url = "https://api.wunderground.com/api/260109016da23b22/conditions/q/42.068,-101.445.json";

            var req = $.ajax({
                url : url,
                dataType : "jsonp",
                timeout : 10000
            });

            req.success(function(data) {
                console.log(data);
                show_condition(data);
            });

            req.error(function() {
                show_error();
            });
        }

        function show_condition(data) {
            var currentWeather = data['current_observation']['weather'];
            console.log(currentWeather);

            if(currentWeather) {
                if(currentWeather.match("rain") || currentWeather.match("Rain")) {
                    $('<div id="answer-yes">Yes</div>').replaceAll('#answer_wrap');
                } else {
                    $('<div id="answer-no">No</div>').replaceAll('#answer_wrap');
                }
                $("#conditionDescription").html(currentWeather);
                document.getElementById("userLocation").style.display = "block";
                document.getElementById("showDetails").style.display = "block";
                document.getElementById("shareThis").style.display = "block";
                document.getElementById("ads").style.display = "block";
                document.getElementById("footer").style.display="block";
            } else {
                $("#conditionDescription").html('condition code not found');
            }
        }

        function show_error() {
            $("#live-geolocation").html('Unable to determine your current weather.');
        }

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
            get_WeatherJSON(position);
        }
        getLocation();
    });
</script>

<script type="text/javascript">
$("#showDetails a").click(function () {
	$("#userLatLon").fadeToggle("slow");
	$("#conditionDescription").fadeToggle("slow");
	$(this).text($(this).text() == 'Details +' ? 'Details -' : 'Details +'); 
}); 
</script>


</body>
</html>
